<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Savant! — Edit SOP</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="api-base-url" content="http://localhost:4000" />
    <link rel="stylesheet" href="/styles/base.css" />
    <link href="https://cdn.jsdelivr.net/npm/quill@1.3.7/dist/quill.snow.css" rel="stylesheet" />
</head>

<body>
    <header class="site-header">
        <div class="container header-inner">
            <h1>
                <a href="/" style="text-decoration:none; color:inherit;">Savant!</a>
            </h1>
            <div id="user-pill" class="user-pill">Not signed in</div>
        </div>
    </header>

    <main class="container">
        <!-- Action bar -->
        <div class="action-bar" style="margin-bottom: 20px;">
            <a href="/"><button class="ghost">← Back to Dashboard</button></a>
        </div>

        <div class="card" id="edit-card">
            <h2>Edit SOP</h2>

            <!-- Inline status/errors -->
            <p id="edit-status" class="muted" style="margin: 4px 0; display: none;"></p>

            <!-- Input fields -->
            <div class="row" style="flex-wrap: wrap; gap: 16px;">
                <div style="display:flex; flex-direction:column;">
                    <label for="sop-title" class="muted">Title</label>
                    <input id="sop-title" type="text" placeholder="SOP Title" />
                </div>
                <div style="display:flex; flex-direction:column;">
                    <label for="sop-category" class="muted">Category</label>
                    <input id="sop-category" type="text" placeholder="Category" />
                </div>
                <div style="display:flex; flex-direction:column;">
                    <label for="sop-tags" class="muted">Tags</label>
                    <input id="sop-tags" type="text" placeholder="Tags (comma-separated)" />
                </div>
            </div>

            <!-- Rich text editor -->
            <div style="margin-top: 20px;">
                <label for="editor" class="muted">Content</label>
                <div id="editor" class="quill" style="margin-top: 8px;"></div>
            </div>

            <!-- Version message and buttons -->
            <div class="row" style="margin-top: 20px;">
                <div style="display:flex; flex-direction:column; flex:1;">
                    <label for="sop-message" class="muted">Version Message</label>
                    <input id="sop-message" type="text" placeholder="Describe the change (optional)" />
                </div>
                <div style="display:flex; align-items:flex-end; gap: 10px;">
                    <button id="save-sop">Save Changes</button>
                    <a id="cancel-link" href="/" class="tile-link"><button class="ghost">Cancel</button></a>
                </div>
            </div>
        </div>
    </main>

    <script type="module" src="/js/edit.js"></script>
</body>

</html>